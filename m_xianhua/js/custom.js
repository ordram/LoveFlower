/** 打字特效JS */
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object')module.exports=factory();else if(typeof define==='function'&&define.amd)define([],factory);else if(typeof exports==='object')exports["POWERMODE"]=factory();else root["POWERMODE"]=factory()})(this,function(){return(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){'use strict';var canvas=document.createElement('canvas');canvas.width=window.innerWidth;canvas.height=window.innerHeight;canvas.style.cssText='position:fixed;top:0;left:0;pointer-events:none;z-index:999999';window.addEventListener('resize',function(){canvas.width=window.innerWidth;canvas.height=window.innerHeight});document.body.appendChild(canvas);var context=canvas.getContext('2d');var particles=[];var particlePointer=0;POWERMODE.shake=true;function getRandom(min,max){return Math.random()*(max-min)+min}function getColor(el){if(POWERMODE.colorful){var u=getRandom(0,360);return'hsla('+getRandom(u-10,u+10)+', 100%, '+getRandom(50,80)+'%, '+1+')'}else{return window.getComputedStyle(el).color}}function getCaret(){var el=document.activeElement;var bcr;if(el.tagName==='TEXTAREA'||(el.tagName==='INPUT'&&el.getAttribute('type')==='text')){var offset=__webpack_require__(1)(el,el.selectionStart);bcr=el.getBoundingClientRect();return{x:offset.left+bcr.left,y:offset.top+bcr.top,color:getColor(el)}}var selection=window.getSelection();if(selection.rangeCount){var range=selection.getRangeAt(0);var startNode=range.startContainer;if(startNode.nodeType===document.TEXT_NODE){startNode=startNode.parentNode}bcr=range.getBoundingClientRect();return{x:bcr.left,y:bcr.top,color:getColor(startNode)}}return{x:0,y:0,color:'transparent'}}function createParticle(x,y,color){return{x:x,y:y,alpha:1,color:color,velocity:{x:-1+Math.random()*2,y:-3.5+Math.random()*2}}}function POWERMODE(){{var caret=getCaret();var numParticles=5+Math.round(Math.random()*10);while(numParticles--){particles[particlePointer]=createParticle(caret.x,caret.y,caret.color);particlePointer=(particlePointer+1)%500}}{if(POWERMODE.shake){var intensity=1+2*Math.random();var x=intensity*(Math.random()>0.5?-1:1);var y=intensity*(Math.random()>0.5?-1:1);document.body.style.marginLeft=x+'px';document.body.style.marginTop=y+'px';setTimeout(function(){document.body.style.marginLeft='';document.body.style.marginTop=''},75)}}};POWERMODE.colorful=false;function loop(){requestAnimationFrame(loop);context.clearRect(0,0,canvas.width,canvas.height);for(var i=0;i<particles.length;++i){var particle=particles[i];if(particle.alpha<=0.1)continue;particle.velocity.y+=0.075;particle.x+=particle.velocity.x;particle.y+=particle.velocity.y;particle.alpha*=0.96;context.globalAlpha=particle.alpha;context.fillStyle=particle.color;context.fillRect(Math.round(particle.x-1.5),Math.round(particle.y-1.5),3,3)}}requestAnimationFrame(loop);module.exports=POWERMODE},function(module,exports){(function(){var properties=['direction','boxSizing','width','height','overflowX','overflowY','borderTopWidth','borderRightWidth','borderBottomWidth','borderLeftWidth','borderStyle','paddingTop','paddingRight','paddingBottom','paddingLeft','fontStyle','fontVariant','fontWeight','fontStretch','fontSize','fontSizeAdjust','lineHeight','fontFamily','textAlign','textTransform','textIndent','textDecoration','letterSpacing','wordSpacing','tabSize','MozTabSize'];var isFirefox=window.mozInnerScreenX!=null;function getCaretCoordinates(element,position,options){var debug=options&&options.debug||false;if(debug){var el=document.querySelector('#input-textarea-caret-position-mirror-div');if(el){el.parentNode.removeChild(el)}}var div=document.createElement('div');div.id='input-textarea-caret-position-mirror-div';document.body.appendChild(div);var style=div.style;var computed=window.getComputedStyle?getComputedStyle(element):element.currentStyle;style.whiteSpace='pre-wrap';if(element.nodeName!=='INPUT')style.wordWrap='break-word';style.position='absolute';if(!debug)style.visibility='hidden';properties.forEach(function(prop){style[prop]=computed[prop]});if(isFirefox){if(element.scrollHeight>parseInt(computed.height))style.overflowY='scroll'}else{style.overflow='hidden'}div.textContent=element.value.substring(0,position);if(element.nodeName==='INPUT')div.textContent=div.textContent.replace(/\s/g,"\u00a0");var span=document.createElement('span');span.textContent=element.value.substring(position)||'.';div.appendChild(span);var coordinates={top:span.offsetTop+parseInt(computed['borderTopWidth']),left:span.offsetLeft+parseInt(computed['borderLeftWidth'])};if(debug){span.style.backgroundColor='#aaa'}else{document.body.removeChild(div)}return coordinates}if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=getCaretCoordinates}else{window.getCaretCoordinates=getCaretCoordinates}}())}])});
/** 点击爱心JS */
!function(e,t,a){function r(){for(var e=0;e<s.length;e++)s[e].alpha<=0?(t.body.removeChild(s[e].el),s.splice(e,1)):(s[e].y--,s[e].scale+=.004,s[e].alpha-=.013,s[e].el.style.cssText="left:"+s[e].x+"px;top:"+s[e].y+"px;opacity:"+s[e].alpha+";transform:scale("+s[e].scale+","+s[e].scale+") rotate(45deg);background:"+s[e].color+";z-index:99999");requestAnimationFrame(r)}function n(){var t="function"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),o(e)}}function o(e){var a=t.createElement("div");a.className="heart",s.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:c()}),t.body.appendChild(a)}function i(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}function c(){return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}var s=[];e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},i(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),n(),r()}(window,document);
/** 游客评论JS */
function kuacg_qq(){var qq_num=document.getElementById("qqinfo").value;if(qq_num){if(!isNaN(qq_num)){$.ajax({url:"/wp-content/themes/Tint/core/api/get-qq-info.php",type:"get",data:{qq:qq_num},dataType:"json",success:function(data){document.getElementById("email").value=(qq_num+'@qq.com');$('#comment').focus();if(data==null){document.getElementById("author").value=('QQ游客')}else{document.getElementById("author").value=(data[qq_num][6]==""?'QQ游客':data[qq_num][6])}},error:function(err){document.getElementById("author").value=('QQ游客');document.getElementById("email").value=(qq_num+'@qq.com');$('#comment').focus()}})}else{document.getElementById("author").value=('请输入正确的QQ号码');document.getElementById("email").value=('请输入正确的QQ号码')}}else{document.getElementById("author").value=('请输入您的QQ号');document.getElementById("email").value=('请输入您的QQ号')}};
/** 生成封面相关JS */
function mi_prompt(type,msg){var html='<div class="sweet-overlay" tabindex="-1" style="opacity: 1.02; display: block;"></div>';html+='<div class="sweet-alert swal-success showSweetAlert visible" style="display: block; margin-top: -167px;">';if(type=='error'){html+='<div class="sa-icon sa-error" style="display: block;"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div>'}else{html+='<div class="sa-icon sa-success animate"style="display: block;"><span class="sa-line sa-tip animateSuccessTip"></span><span class="sa-line sa-long animateSuccessLong"></span><div class="sa-placeholder"></div><div class="sa-fix"></div></div>'}html+='<h2>'+msg+'</h2>';html+='</div>';$('body').append(html);setTimeout(function(){$('.sweet-overlay').css("display","none");$('.sweet-alert').css("display","none");setTimeout("$('.sweet-overlay').remove(),$('.sweet-alert').remove()",800)},2000)}$(document).on('click touchstart','.btn-bigger-cover',function(event){event.preventDefault();var bigger_cover=$('#bigger-cover img');if(bigger_cover.hasClass('load_bigger_img')){$.ajax({url:"\/wp-admin\/admin-ajax.php",type:'POST',dataType:'json',data:bigger_cover.data(),}).done(function(data){if(data.s==200){bigger_cover.attr('src',data.src);$('.bigger_share').attr('href',data.share);$('.bigger_down').attr('href',data.src);bigger_cover.removeClass('load_bigger_img');$('.image-loading').remove()}else{mi_prompt('error',data.m)}}).fail(function(){mi_prompt('error','网络错误，请稍后再试！')})}});(function($){$.fn.miPopup=function(){this.bind('click touchstart',function(event){var html=$('<div class="dialog_overlay"></div>');var selector=$(this).data('selector');var close_icon=$(selector).find('.btn-close');$(selector).addClass('open').find('.btn-close').on('click touchstart',function(event){event.preventDefault();$(html).remove();$(selector).removeClass('open');$(selector).addClass('close');$('body').removeClass('modal-open');setTimeout(function(){$(selector).removeClass('close')},200);close_icon.unbind()});$('body').addClass('modal-open');$('body').append(html);$('body').on("keyup",function(e){if(e.keyCode===27)close_icon.click()})})};$('[data-module="miPopup"]').miPopup()})(jQuery);$(".btn-open-share").on('click touchstart',function(e){e.preventDefault();$('.bigger-share').addClass('open');$('.btn-open-share').hide();$('.btn-close').hide();$('.btn-close-share').show()});$(".btn-close-share").on('click touchstart',function(e){e.preventDefault();$('.btn-close-share').hide();$('.bigger-share').removeClass('open');$('.bigger-share').addClass('close');$('.btn-open-share').show();$('.btn-close').show();setTimeout(function(){$('.bigger-share').removeClass('close')},200)});
/** 导航相关JS */
if($("#scroll-header").length > 0){var new_scroll_position=0;var last_scroll_position;var header=document.getElementById("scroll-header");window.addEventListener('scroll',function(e){last_scroll_position=window.scrollY;if(new_scroll_position<last_scroll_position&&last_scroll_position>80){header.classList.remove("slideDown");header.classList.add("slideUp");}else if(new_scroll_position>last_scroll_position){header.classList.remove("slideUp");header.classList.add("slideDown")}new_scroll_position=last_scroll_position});}
/** 加载动画相关JS */
setTimeout(function () {$('#loading').fadeOut();},500);function add_tip(){if($(".__eHCN5").length >0) { $('#loading').fadeOut();$(".__eHCN5").before('<span style="position: absolute;padding-top: 10px;">温馨提示：评论字数不能少于10个字哦！</span>');$(".__3EZVr").prepend('<a class="__1y3LE" href="/thread">论坛首页</a>');}else{setTimeout(add_tip,100);}};if($(".single-thread").length >0) {add_tip();};